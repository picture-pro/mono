{"schemas":"DEFINE TABLE script_migration SCHEMAFULL\n    PERMISSIONS\n        FOR select FULL\n        FOR create, update, delete NONE;\n\nDEFINE FIELD script_name ON script_migration TYPE string;\nDEFINE FIELD executed_at ON script_migration TYPE datetime DEFAULT time::now();\nDEFINE TABLE user SCHEMALESS\n    PERMISSIONS\n        FOR select FULL\n        FOR update WHERE id = $auth.id\n        FOR create, delete NONE;\n\nDEFINE FIELD name ON user TYPE string;\nDEFINE FIELD email ON user TYPE string;\nDEFINE FIELD password ON user TYPE string;\n\nDEFINE INDEX unique_email ON user COLUMNS email UNIQUE;\n\nDEFINE SCOPE user_scope\n    SESSION 30d\n    SIGNUP (\n        CREATE user\n        SET\n            name = $name,\n            email = $email,\n            password = crypto::argon2::generate($password)\n    )\n    SIGNIN (\n        SELECT *\n        FROM user\n        WHERE email = $email AND crypto::argon2::compare(password, $password)\n    );\n","events":""}